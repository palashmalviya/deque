<!DOCTYPE html>
<html>
  <head>
    <title>GoogleBookAPI</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN"
      crossorigin="anonymous"
    />
  </head>
  <body>
    <div class="container text-left">
      <div class="row">
        <div class="card text-dark bg-light mb-6" style="">
            <div class="card-body">
                <p class="card-text">Total Results: {{ total_results }}</p>
                <p class="card-text">Common Author: {{ common_author }}</p>
                <p class="card-text">Earliest Publication Date: {{ earliest_date }}</p>
                <p class="card-text">Latest Publication Date: {{ latest_date }}</p>
                <p class="card-text">Server Response Time: {{ response_time }}</p>
            </div>
        </div>
      </div>
        <br>
        <br>
      <div class="row">
        <h1 class="text-center">GoogleBookAPI Search Results</h1>
      {% for book in books %}
        <div class="accordion" id="accordion">
            <div class="accordion-item">
                <h2 class="accordion-header">
                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#book{{ book.id }}" aria-expanded="false" aria-controls="book{{ book.id }}">
                    {{ book.authors }} - <b>{{ book.title }}</b>
                </button>
                </h2>
                <div id="book{{ book.id }}" class="accordion-collapse collapse" data-bs-parent="#accordion">
                <div class="accordion-body">
                    {% if book.description %}
                    <p>{{ book.description }}</p>
                    {% else %}
                    <p>No description available.</p>
                    {% endif %}
                </div>
                </div>
            </div>
        </div>
      {% endfor %}
    </div>












    <div class="row">

            <nav aria-label="Page navigation example">
                <ul class="pagination">

                    {% if prev_start_index >= 0 %}
                    <li class="page-item">
                    <a class="page-link" href="?q={{ request.GET.q }}&start_index={{ prev_start_index }}" aria-label="Previous">
                        <span aria-hidden="true">&laquo;</span> Previous
                    </a>
                    </li>
                    {% endif %} 
                    
                    
                    {% if next_start_index < total_results %}
                    <li class="page-item">
                    <a class="page-link" href="?q={{ request.GET.q }}&start_index={{ next_start_index }}" aria-label="Next">
                        <span aria-hidden="true">&raquo;</span> Next
                    </a>
                    </li>
                    {% endif %}



                </ul>
            </nav>

      
      
      

      
   
    </div>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL"
      crossorigin="anonymous"
    ></script>
  </body>
</html>
